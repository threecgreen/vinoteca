{% extends 'base.html' %}
{% load humanize %}
{% block body %}
    <div class="container">
        <div class="row">
            <div class="col s12">
                <h3>Current Inventory</h3>

                <table class="responsive highlight condensed">
                    <thead>
                        <tr>
                            <th>Modify</th>
                            <th class="num-col">Quantity</th>
                            <th>Color</th>
                            <th>Name and Type</th>
                            <th>Producer</th>
                            <th>Region</th>
                            <th class="num-col">Vintage</th>
                            <th>Purchase Date</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for wine in inventory %}
                        <tr>
                            <td>
                                <a class="waves-effect waves-light btn-floating btn-floating-small light-green lighten-2" href="{% url "Change Inventory from Inventory" wine_id=wine.wine_id sign="add" %}">
                                    <i class="material-icons">add_circle</i>
                                </a>
                                <a class="waves-effect waves-light btn-floating btn-floating-small pink darken-3" href="{% url "Change Inventory from Inventory" wine_id=wine.wine_id sign="subtract" %}">
                                    <i class="material-icons">do_not_disturb_on</i>
                                </a>
                            </td>
                            <td class="num-col"><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">{{ wine.inventory_cnt }}</a></td>
                            <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">{{ wine.color|title }}</a> </td>
                            {% if wine.wine_type_id %}
                                <td><a href="{% url "Wine Type Profile" wine_type_id=wine.wine_type_id %}">{{ wine.name|default_if_none:"" }} {{ wine.type }}</a></td>
                            {% else %}
                                <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">{{ wine.name|default_if_none:"" }} {{ wine.type }}</a></td>
                            {% endif %}
                            {% if wine.producer_id %}
                                <td><a href="{% url "Producer Profile" producer_id=wine.producer_id %}"> {{ wine.producer }}</a></td>
                            {% else %}
                                <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}"> {{ wine.producer }}</a></td>
                            {% endif %}
                            {% if wine.region_id %}
                                <td><a href="{% url "Region Profile" region_id=wine.region_id %}"> {{ wine.region }}</a></td>
                            {% else %}
                                <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}"> {{ wine.region }}</a></td>
                            {% endif %}
                            <td class="num-col"><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">{{ wine.vintage|default_if_none:"NV" }}</a></td>
                            {% if wine.last_purchase_date %}
                                <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">{{ wine.last_purchase_date|naturalday:"b j, Y"|title }}</a></td>
                            {% else %}
                                <td><a href="{% url "Wine Profile" wine_id=wine.wine_id %}">&ndash;</a></td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}