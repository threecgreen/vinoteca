[package]
name = "vinoteca"
description = "Wine purchase tracker"
repository = "https://github.com/threecgreen/vinoteca"
version = "5.0.7"
edition = "2018"
authors = ["Carter Green <cartergr@usc.edu>"]
readme = "./README.md"
license = "MIT"
default-run = "vinoteca"

# For generating .deb file for Linux installs
[package.metadata.deb]
depends = "$auto, libsqlite3-dev"
assets = [
    ["target/release/vinoteca", "usr/local/bin/", "755"],
    ["web/static/vinoteca.bundle.js", "usr/local/share/vinoteca/", "644"],
    ["web/static/vinoteca.bundle.css", "usr/local/share/vinoteca/", "644"],
    ["web/static/vendors.bundle.js", "usr/local/share/vinoteca/", "644"],
    ["web/static/img/*", "usr/local/share/vinoteca/img/", "644"],
    ["web/static/img/flags/*", "usr/local/share/vinoteca/img/flags/", "644"],
    ["README.md", "usr/local/share/doc/vinoteca/README", "644"],
]

[dependencies]
diesel = { version = "1.4", features = ["sqlite"] }
diesel_migrations = "1.4.0"
image = "0.23.2"
log = "0.4"
rocket = "0.4.4"
rocket_codegen = "*"
rocket-multipart-form-data = "0.8.1"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
time = "0.1.42"
validator = "0.10"
validator_derive = "0.10"

[dependencies.rocket_contrib]
version = "*"
default-features = false
features = ["json", "diesel_sqlite_pool"]

[dependencies.typescript-definitions]
version = "0.1.10"
# Enable export in release build
features = ["export-typescript"]
