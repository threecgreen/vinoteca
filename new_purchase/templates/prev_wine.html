{% extends 'wine_profile_base.html' %}
{% load static %}
{% block add_body %}
<div class="container">
    <div class="row">
        <div class="col s12">
            <h4>New Purchase</h4>
            <form action="" method="post" autocomplete="off">
                {% csrf_token %}
                <div class="row">
                    <div class="input-field col s6 m3">
                        <input id="purchase-date" name="purchase-date" type="text" class="datepicker" required>
                        <label for="purchase-date">Purchase Date</label>
                    </div>
                    <div class="col s3 m1">
                        <div class="switch">
                            <label for="add-to-inventory">
                                Add to Inventory
                                <input type="checkbox" id="add-to-inventory" name="add-to-inventory" checked="checked">
                                <span class="lever"></span>
                            </label>
                        </div>
                    </div>
                    <div class="input-field col s3 m2">
                        <input id="quantity" name="quantity" type="number" class="validate" required>
                        <label for="quantity">Quantity</label>
                    </div>
                    <div class="input-field col s6 m3">
                        <input id="price" name="price" type="number" class="validate" step="0.01" min="0">
                        <label for="price">Price</label>
                    </div>
                    <div class="input-field col s6 m3">
                        <input id="vintage" name="vintage" type="number" class="validate" value="{{ default_vintage }}">
                        <label for="vintage">Vintage</label>
                    </div>
                    <div class="input-field col s12 m3">
                        <input type="text" id="auto-store" name="store" class="autocomplete">
                        <label for="auto-store">Store</label>
                    </div>
                    <div class="input-field col s12 m6">
                        <input type="text" id="why" name="memo" class="validate">
                        <label for="why">Memo</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <button class="btn waves-effect waves-light light-green lighten-2" type="submit" name="action">
                            Submit<i class="material-icons right">send</i>
                        </button>
                        <a class="waves-effect waves-light btn pink darken-3" href={% url "Wine Profile" wine_id=wine.id %}>cancel</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
{% block js %}
<script type="module">
import { autocomplete, datepicker } from "{% static "js/widgets.js" %}";

$(function() {
    datepicker();
    autocomplete("store");
});
</script>
{% endblock %}
